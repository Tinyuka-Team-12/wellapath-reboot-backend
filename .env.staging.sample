# ===========================
# WellaPath Backend — STAGING
# ===========================
# IMPORTANT
# - This file is a SAMPLE. Do not put real secrets here.
# - Cloud team must set real values in DigitalOcean App Platform (Settings → Environment Variables).

# App
PORT=8080
NODE_ENV=production
LOG_LEVEL=info

# Comma-separated list of allowed browser origins (FE staging/prod)
CORS_ORIGINS=https://staging.wellapath.com,https://app.wellapath.com

# Database (DigitalOcean Managed PG recommended; use TLS)
# Example (direct): postgresql://doadmin:*****@db-postgresql-...ondigitalocean.com:25060/wellapath?sslmode=require&schema=public
# Example (pooler): postgresql://doadmin:*****@db-postgresql-...-pooler....ondigitalocean.com:25061/wellapath?sslmode=require&schema=public
DATABASE_URL=postgresql://<user>:<pass>@<host>:<port>/wellapath?sslmode=require&schema=public

# Auth (Cognito)
AUTH_ENABLED=true
# For initial smoke tests you may toggle to true, then set to false after JWT flow is validated
AUTH_DEV_BYPASS=true
COGNITO_REGION="us-east-1"
COGNITO_USER_POOL_ID="us-east-1_UeQZIEewM"
COGNITO_CLIENT_ID="rr10getkbgpp157c8v0pbqjlt"

# Symptom Analyzer feature flag (keep OFF until creds arrive)
# Allowed values: none | apimedic | infermedica
SYMPTOM_ANALYZER_PROVIDER=none

# ApiMedic — sandbox endpoints kept for later; leave USER/KEY blank
APIMEDIC_AUTH_BASE=https://sandbox-authservice.priaid.ch
APIMEDIC_BASE=https://sandbox-healthservice.priaid.ch
APIMEDIC_USER=
APIMEDIC_KEY=
APIMEDIC_LANG=en-gb
APIMEDIC_FORMAT=json

# Infermedica — leave blank until keys are provided
INFERMEDICA_BASE=https://api.infermedica.com/v3
INFERMEDICA_APP_ID=
INFERMEDICA_APP_KEY=

# Geo/Nominatim
NOMINATIM_BASE=https://nominatim.openstreetmap.org
NOMINATIM_CONTACT=ops@wellapath.com
GEO_CACHE_TTL=5m
GEO_RATE_PER_SECOND=1
